import{R as r,m as i}from"./chunk-2FYOCKJS.js";var m=(()=>{class s{constructor(){this.cartItems=[],this.cartSubject=new i([]),this.cart$=this.cartSubject.asObservable();let t=localStorage.getItem("cartItems");t&&(this.cartItems=JSON.parse(t),this.cartSubject.next(this.cartItems))}saveToLocalStorage(){localStorage.setItem("cartItems",JSON.stringify(this.cartItems))}addToCart(t){let e=this.cartItems.find(a=>a.id===t.id);e?e.quantity=(e.quantity||1)+1:(t.quantity=1,this.cartItems.push(t)),this.cartSubject.next(this.cartItems),this.saveToLocalStorage()}getCartItems(){return this.cart$}removeFromCart(t){this.cartItems=this.cartItems.filter(e=>e.id!==t.id),this.cartSubject.next(this.cartItems),this.saveToLocalStorage()}increaseQuantity(t){let e=this.cartItems.find(a=>a.id===t.id);e&&(e.quantity+=1,this.cartSubject.next(this.cartItems),this.saveToLocalStorage())}decreaseQuantity(t){let e=this.cartItems.find(a=>a.id===t.id);e&&(e.quantity>1?e.quantity-=1:this.cartItems=this.cartItems.filter(a=>a.id!==t.id),this.cartSubject.next(this.cartItems),this.saveToLocalStorage())}clearCart(){this.cartItems=[],this.cartSubject.next(this.cartItems),localStorage.removeItem("cartItems")}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=r({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{m as a};

import{a as q,b as R,c as z,d as A,e as G}from"./chunk-O6YKPOGD.js";import{d as g,o as M}from"./chunk-7CB4JMXP.js";import{a as D}from"./chunk-3LRBBS3U.js";import{a as y}from"./chunk-2PVOGJDQ.js";import{a as E,b as m,c as F,d as U,e as O,f,h as T,i as k,j as I,l as N}from"./chunk-E3WZVPPX.js";import{i as C,m as P}from"./chunk-DFOZ4GMF.js";import{Bb as n,Hb as _,Ib as v,Oa as a,Pa as d,aa as b,db as u,fb as h,jb as l,kb as t,lb as i,mb as p,rb as w}from"./chunk-DPLER3HE.js";function X(r,c){r&1&&(t(0,"p",8),n(1,"This field Is Required"),i())}function B(r,c){r&1&&(t(0,"p",8),n(1,"This field Is Required"),i())}function L(r,c){r&1&&(t(0,"p",8),n(1,"Enter Vaild Email"),i())}function H(r,c){r&1&&(t(0,"p",8),n(1,"This field Is Required"),i())}function J(r,c){r&1&&(t(0,"p",8),n(1,"Password must be at least 6 characters"),i())}function K(r,c){r&1&&(t(0,"p",8),n(1,"Passwords do not match"),i())}var de=(()=>{class r{constructor(s,o,e,x,j){this._authservice=s,this._messageService=o,this._ngxSpinnerService=e,this.router=x,this._userData=j,this.passwordMatchValidator=S=>{let V=S.get("password")?.value,Y=S.get("rePassword")?.value;return V===Y?null:{passwordMismatch:!0}},this.InitFormControls(),this.InitFormGroupe()}InitFormControls(){this.name=new f("",[m.required]),this.email=new f("",[m.required,m.email]),this.password=new f("",[m.required,m.minLength(6)]),this.rePassword=new f("",[m.required])}InitFormGroupe(){this.signUpForm=new O({name:this.name,email:this.email,password:this.password,rePassword:this.rePassword},{validators:this.passwordMatchValidator})}sumbit(){this.signUpForm.valid?(this.registrionAPI(this.signUpForm.value),this.signUpForm.reset()):this.signUpForm.markAllAsTouched()}registrionAPI(s){this._ngxSpinnerService.show(),this._authservice.signUp(s).subscribe({next:o=>{this.show("success","Registration Successful","Your account has been created successfully!"),this._userData.userName.next(o.name),localStorage.setItem("username",o.name),localStorage.setItem("token",o._id),this.router.navigate(["home"]),this._ngxSpinnerService.hide()},error:o=>{this.show("error","Registration Failed","An error occurred while creating your account. Please try again."),this._ngxSpinnerService.hide()}})}show(s,o,e){this._messageService.add({severity:s,summary:o,detail:e})}static{this.\u0275fac=function(o){return new(o||r)(d(y),d(g),d(z),d(C),d(D))}}static{this.\u0275cmp=b({type:r,selectors:[["app-sign-up"]],standalone:!0,features:[_([g]),v],decls:38,vars:8,consts:[[1,"container"],[1,"glass-form-section"],[1,"glass-form-title"],[1,"glass-form",3,"ngSubmit","formGroup"],[1,"field"],["for","username"],["type","text","placeholder","Type Your Username","id","username","formControlName","name",1,"glass-input"],[1,"validtions"],[1,"error-msg"],["for","email"],["type","text","placeholder","Type Your Email","id","email","formControlName","email",1,"glass-input"],["for","password"],["type","text","placeholder","Type Your Password","id","password","formControlName","password",1,"glass-input"],["for","repass"],["type","text","placeholder","Type Your password Again","id","repass","formControlName","rePassword",1,"glass-input"],[1,"validations"],[1,"glass-btn"],["bdColor","rgba(0, 0, 0, 0.9)","size","medium","color","#2563eb","type","ball-scale-multiple",3,"fullScreen"],[2,"color","white"]],template:function(o,e){o&1&&(p(0,"p-toast"),t(1,"div",0)(2,"section",1)(3,"h1",2),n(4,"Register Form"),i(),t(5,"form",3),w("ngSubmit",function(){return e.sumbit()}),t(6,"div",4)(7,"label",5),n(8,"Username:"),i(),p(9,"input",6),t(10,"div",7),u(11,X,2,0,"p",8),i()(),t(12,"div",4)(13,"label",9),n(14,"Email:"),i(),p(15,"input",10),t(16,"div",7),u(17,B,2,0,"p",8)(18,L,2,0,"p",8),i()(),t(19,"div",4)(20,"label",11),n(21,"Password:"),i(),p(22,"input",12),t(23,"div",7),u(24,H,2,0,"p",8)(25,J,2,0,"p",8),i()(),t(26,"div",4)(27,"label",13),n(28,"Repassword:"),i(),p(29,"input",14),t(30,"div",15),u(31,K,2,0,"p",8),i()(),t(32,"button",16),n(33,"Sign Up"),i()()(),t(34,"ngx-spinner",17),n(35," > "),t(36,"p",18),n(37,"Getting things ready..."),i()()()),o&2&&(a(5),h("formGroup",e.signUpForm),a(6),l(11,e.name.errors!=null&&e.name.errors.required&&e.name.touched?11:-1),a(6),l(17,e.email.errors!=null&&e.email.errors.required&&e.email.touched?17:-1),a(),l(18,e.email.errors!=null&&e.email.errors.email&&e.email.touched?18:-1),a(6),l(24,e.password.errors!=null&&e.password.errors.required&&e.password.touched?24:-1),a(),l(25,e.password.errors!=null&&e.password.errors.minlength&&e.password.touched?25:-1),a(6),l(31,e.signUpForm.hasError("passwordMismatch")&&e.rePassword.touched?31:-1),a(3),h("fullScreen",!0))},dependencies:[M,P,N,T,E,F,U,k,I,R,q,G,A],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:94vh}.glass-form-section[_ngcontent-%COMP%]{width:600px;background:#1a1a1a;border:1px solid rgba(153,153,161,.4);border-radius:16px;padding:15px;max-width:320px;margin:0 auto;box-shadow:0 4px 20px #00000040,0 1px 2px #ffffff0d}.glass-form-title[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1.4rem;text-align:center;font-weight:600;margin-bottom:40px}.glass-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f5f5f5;font-size:.8rem;transition:all .2s ease;margin-top:-15px;margin-bottom:0}.field[_ngcontent-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:#9999a1;transform:translate(3px)}.glass-input[_ngcontent-%COMP%]{padding:6px 8px;height:36px;box-sizing:border-box;background:#fffc;border:1px solid rgba(230,230,230,.6);border-radius:8px;color:#000;font-size:.8rem;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:all .2s ease}.glass-input[_ngcontent-%COMP%]::placeholder{font-size:.75rem}.glass-input[_ngcontent-%COMP%]:focus{border-color:#9999a1;background:#9999a133;box-shadow:0 0 6px #9999a166;outline:none;transform:translateY(-1px)}.error-msg[_ngcontent-%COMP%]{font-size:.7rem;padding:4px 8px;border-radius:6px;background:#ff00001a;color:#d70000;border:1px solid rgba(255,0,0,.2);animation:_ngcontent-%COMP%_error-shake .3s ease-in-out}.glass-btn[_ngcontent-%COMP%]{background:#20242c;color:#fff;padding:12px 24px;font-weight:600;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease}.glass-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:scale(1.02);-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02)}@keyframes _ngcontent-%COMP%_error-shake{0%,to{transform:translate(0)}25%{transform:translate(-2px);-webkit-transform:translateX(-2px);-moz-transform:translateX(-2px);-ms-transform:translateX(-2px);-o-transform:translateX(-2px)}75%{transform:translate(2px)}}@media (max-width: 768px){.glass-form-section[_ngcontent-%COMP%]{top:77.5%}}"]})}}return r})();export{de as SignUpComponent};
